<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Les Bonnes Pièces</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
  <div id="app">
    <header>
      <img src="image/logo.png" alt="LOGO">
      <h1>Les Bonnes Pièces</h1>
    </header>

    <main>
      <!-- Menu de recherche et filtres -->
      <section class="filtres">
        <h3>Filtres</h3>

        <label>
          Recherche :
          <input type="text" v-model="recherche" placeholder="Rechercher une pièce">
        </label>

        <label>
          Catégorie :
          <select v-model="categorieSelectionnee">
            <option value="">Toutes</option>
            <option v-for="cat in categories" :key="cat">{{ cat }}</option>
          </select>
        </label>

        <label>
          Disponibilité :
          <select v-model="disponibiliteSelectionnee">
            <option value="">Toutes</option>
            <option value="true">Disponible</option>
            <option value="false">Indisponible</option>
          </select>
        </label>

        <label>
          Trier par prix :
          <select v-model="triPrix">
            <option value="">Aucun</option>
            <option value="asc">Croissant</option>
            <option value="desc">Décroissant</option>
          </select>
        </label>

        <h4>Panier: {{ panier.length }} articles</h4>
      </section>

      <!-- Fiches produits -->
      <section class="fiches">
        <div class="fiche" v-for="piece in piecesFiltrees" :key="piece.id">
          <img :src="piece.image" :alt="piece.nom">
          <p><strong>{{ piece.nom }}</strong></p>
          <p>Prix: {{ piece.prix }} €</p>
          <p>Catégorie: {{ piece.categorie }}</p>
          <p>Disponible: {{ piece.disponible ? 'Oui' : 'Non' }}</p>
          <button v-on:click="ajouterAuPanier(piece)" :disabled="!piece.disponible">Ajouter au panier</button>
        </div>
      </section>
    </main>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
